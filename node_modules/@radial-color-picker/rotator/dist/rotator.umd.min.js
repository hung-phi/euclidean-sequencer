/**
 * radial-color-picker/rotator v2.0.1
 *
 * https://github.com/radial-color-picker/rotator
 *
 * Copyright (c) 2018-present, Rosen Kanev
 * Released under the MIT License.
 */
(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.Rotator=b())})(this,function(){"use strict";function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}function b(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}var c=180/Math.PI,d=function(a){var b=a%360;return 0>b?360+b:b},e=function(a,b){var d=a.x,e=a.y,f=b.left+b.width/2,g=b.top+b.height/2;return Math.atan2(e-g,d-f)*c},f=function(){},g=function(){function a(a,b){this.active=!1,this._angle=0,this.element=a,this.element.style.willChange="transform",this.initOptions(b),this.updateCSS(),this.bindHandlers(),this.addListeners()}var c=a.prototype;return c.initOptions=function(a){a=a||{},this.onRotate=a.onRotate||f,this.onDragStart=a.onDragStart||f,this.onDragStop=a.onDragStop||f,this._angle=a.angle||0},c.bindHandlers=function(){this.onRotationStart=this.onRotationStart.bind(this),this.onRotated=this.onRotated.bind(this),this.onRotationStop=this.onRotationStop.bind(this)},c.addListeners=function(){this.element.addEventListener("touchstart",this.onRotationStart,{passive:!0}),document.addEventListener("touchmove",this.onRotated,{passive:!1}),document.addEventListener("touchend",this.onRotationStop,{passive:!0}),document.addEventListener("touchcancel",this.onRotationStop,{passive:!0}),this.element.addEventListener("mousedown",this.onRotationStart,{passive:!0}),document.addEventListener("mousemove",this.onRotated,{passive:!1}),document.addEventListener("mouseup",this.onRotationStop,{passive:!0}),document.addEventListener("mouseleave",this.onRotationStop,{passive:!1})},c.removeListeners=function(){this.element.removeEventListener("touchstart",this.onRotationStart),document.removeEventListener("touchmove",this.onRotated),document.removeEventListener("touchend",this.onRotationStop),document.removeEventListener("touchcancel",this.onRotationStop),this.element.removeEventListener("mousedown",this.onRotationStart),document.removeEventListener("mousemove",this.onRotated),document.removeEventListener("mouseup",this.onRotationStop),document.removeEventListener("mouseleave",this.onRotationStop)},c.destroy=function(){this.onRotationStop(),this.removeListeners()},c.onRotationStart=function(a){("touchstart"===a.type||0===a.button)&&(this.initDrag(),this.onDragStart(a))},c.onRotationStop=function(){this.active&&(this.active=!1,this.onDragStop()),this.active=!1},c.onRotated=function(a){if(this.active){a.preventDefault();var b=a.targetTouches?a.targetTouches[0]:a;this.updateAngleToMouse({x:b.clientX,y:b.clientY}),this.updateCSS(),this.onRotate(this._angle)}},c.setAngleFromEvent=function(a){var b=e({x:a.clientX,y:a.clientY},this.element.getBoundingClientRect());this._angle=d(b+90),this.updateCSS(),this.onRotate(this._angle)},c.updateAngleToMouse=function(a){var b=e(a,this.element.getBoundingClientRect());this.lastMouseAngle||(this.lastElementAngle=this._angle,this.lastMouseAngle=b),this._angle=d(this.lastElementAngle+b-this.lastMouseAngle)},c.initDrag=function(){this.active=!0,this.lastMouseAngle=void 0,this.lastElementAngle=void 0},c.updateCSS=function(){this.element.style.transform="rotate("+this._angle+"deg)"},b(a,[{key:"angle",get:function(){return this._angle},set:function(a){this._angle!==a&&(this._angle=d(a),this.updateCSS())}}]),a}();return g});
